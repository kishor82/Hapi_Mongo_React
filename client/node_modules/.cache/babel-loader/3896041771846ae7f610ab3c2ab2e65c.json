{"ast":null,"code":"import React,{useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Table,Button}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{useHistory}from'react-router-dom';import swal from'sweetalert';import Message from'../components/Message';import Loader from'../components/Loader';import{listUsers,deleteUser}from'../actions/userActions';var UserListScreen=function UserListScreen(){var dispatch=useDispatch();var history=useHistory();var _useSelector=useSelector(function(state){return state.userList;}),loading=_useSelector.loading,error=_useSelector.error,users=_useSelector.users;var _useSelector2=useSelector(function(state){return state.userLogin;}),userInfo=_useSelector2.userInfo;var _useSelector3=useSelector(function(state){return state.userDelete;}),successDelete=_useSelector3.success;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listUsers());}else{history.push('/login');}},[dispatch,history,userInfo,successDelete]);var deleteHandler=function deleteHandler(id){swal({title:'Are you sure?',text:'Once deleted, you will not be able to recover this user!',icon:'warning',buttons:[true,true],dangerMode:true}).then(function(willDelete){if(willDelete){dispatch(deleteUser(id));swal('User has been deleted!',{icon:'success'});}});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Users\"),loading?/*#__PURE__*/React.createElement(Loader,null):error?/*#__PURE__*/React.createElement(Message,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"NAME\"),/*#__PURE__*/React.createElement(\"th\",null,\"EMAIL\"),/*#__PURE__*/React.createElement(\"th\",null,\"ADMIN\"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,users.map(function(user){return/*#__PURE__*/React.createElement(\"tr\",{key:user._id},/*#__PURE__*/React.createElement(\"td\",null,user._id),/*#__PURE__*/React.createElement(\"td\",null,user.name),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"mailto:\".concat(user.email)},user.email)),/*#__PURE__*/React.createElement(\"td\",null,user.isAdmin?/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-check\",style:{color:'green'}}):/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-times\",style:{color:'red'}})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(LinkContainer,{to:\"/admin/user/\".concat(user._id,\"/edit\")},/*#__PURE__*/React.createElement(Button,{variant:\"light\",className:\"btn-sm\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-edit\"}))),/*#__PURE__*/React.createElement(Button,{variant:\"danger\",className:\"btn-sm\",onClick:function onClick(){return deleteHandler(user._id);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-trash\"}))));}))));};export default UserListScreen;","map":null,"metadata":{},"sourceType":"module"}