{"ast":null,"code":"var _jsxFileName = \"/home/ad.rapidops.com/kishor.rathva/Worspace/hapi-mongo-ts/client/src/screens/OrderListScreen.tsx\";\nimport React, { useEffect } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { Table, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listOrders } from '../actions/orderActions';\n\nconst OrderListScreen = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    loading,\n    error,\n    orders\n  } = useSelector(state => state.orderList);\n  const {\n    userInfo\n  } = useSelector(state => state.userLogin);\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listOrders());\n    } else {\n      history.push('/login');\n    }\n  }, [dispatch, history, userInfo]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", null, \"Orders\"), loading ? /*#__PURE__*/React.createElement(Loader, null) : error ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\"\n  }, error) : /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    responsive: true,\n    className: \"table-sm\"\n  }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", null, \"ID\"), /*#__PURE__*/React.createElement(\"th\", null, \"USER\"), /*#__PURE__*/React.createElement(\"th\", null, \"DATE\"), /*#__PURE__*/React.createElement(\"th\", null, \"TOTAL\"), /*#__PURE__*/React.createElement(\"th\", null, \"PAID\"), /*#__PURE__*/React.createElement(\"th\", null, \"DELIVERED\"))), /*#__PURE__*/React.createElement(\"tbody\", null, orders.map(order => /*#__PURE__*/React.createElement(\"tr\", {\n    key: order._id\n  }, console.log(order), /*#__PURE__*/React.createElement(\"td\", null, order._id), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(\"a\", {\n    href: `mailto:${order.user.email}`\n  }, order.user.email)), /*#__PURE__*/React.createElement(\"td\", null, order.createdAt.substring(0, 10)), /*#__PURE__*/React.createElement(\"td\", null, \"$ \", order.totalPrice), /*#__PURE__*/React.createElement(\"td\", null, order.isPaid ? order.paidAt.substring(0, 10) : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-times\",\n    style: {\n      color: 'red'\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", null, order.isDelivered ? order.deliveredAt.substring(0, 10) : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-times\",\n    style: {\n      color: 'red'\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(LinkContainer, {\n    to: `/order/${order._id}`\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"light\",\n    className: \"btn-sm\"\n  }, \"Details\"))))))));\n};\n\nexport default OrderListScreen;","map":{"version":3,"sources":["/home/ad.rapidops.com/kishor.rathva/Worspace/hapi-mongo-ts/client/src/screens/OrderListScreen.tsx"],"names":["React","useEffect","LinkContainer","Table","Button","useDispatch","useSelector","useHistory","Message","Loader","listOrders","OrderListScreen","dispatch","history","loading","error","orders","state","orderList","userInfo","userLogin","isAdmin","push","map","order","_id","console","log","user","email","createdAt","substring","totalPrice","isPaid","paidAt","color","isDelivered","deliveredAt"],"mappings":"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","sourcesContent":["import React, { useEffect, FunctionComponent } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { Table, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listOrders } from '../actions/orderActions';\ninterface Props {}\n\nconst OrderListScreen: FunctionComponent<Props> = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const { loading, error, orders } = useSelector((state: any) => state.orderList);\n\n  const { userInfo } = useSelector((state: any) => state.userLogin);\n\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listOrders());\n    } else {\n      history.push('/login');\n    }\n  }, [dispatch, history, userInfo]);\n\n  return (\n    <>\n      <h1>Orders</h1>\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant=\"danger\">{error}</Message>\n      ) : (\n        <Table striped bordered hover responsive className=\"table-sm\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>USER</th>\n              <th>DATE</th>\n              <th>TOTAL</th>\n              <th>PAID</th>\n              <th>DELIVERED</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map((order: any) => (\n              <tr key={order._id}>\n                {console.log(order)}\n                <td>{order._id}</td>\n                <td>\n                  <a href={`mailto:${order.user.email}`}>{order.user.email}</a>\n                </td>\n                <td>{order.createdAt.substring(0, 10)}</td>\n                <td>$ {order.totalPrice}</td>\n                <td>\n                  {order.isPaid ? (\n                    order.paidAt.substring(0, 10)\n                  ) : (\n                    <i className=\"fas fa-times\" style={{ color: 'red' }}></i>\n                  )}\n                </td>\n                <td>\n                  {order.isDelivered ? (\n                    order.deliveredAt.substring(0, 10)\n                  ) : (\n                    <i className=\"fas fa-times\" style={{ color: 'red' }}></i>\n                  )}\n                </td>\n                <td>\n                  <LinkContainer to={`/order/${order._id}`}>\n                    <Button variant=\"light\" className=\"btn-sm\">\n                      Details\n                    </Button>\n                  </LinkContainer>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      )}\n    </>\n  );\n};\n\nexport default OrderListScreen;\n"]},"metadata":{},"sourceType":"module"}