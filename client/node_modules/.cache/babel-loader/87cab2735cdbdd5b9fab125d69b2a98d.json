{"ast":null,"code":"import _toConsumableArray from\"/home/ad.rapidops.com/kishor.rathva/Worspace/hapi-mongo-ts/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/ad.rapidops.com/kishor.rathva/Worspace/hapi-mongo-ts/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link,useHistory,useParams}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Image,ListGroup,Card,Button,Form}from'react-bootstrap';import Rating from'../components/Rating';import Message from'../components/Message';import Loader from'../components/Loader';import{listProductDetails,createProductReview}from'../actions/productActions';import swal from'sweetalert';import{PRODUCT_CREATE_REVIEW_RESET}from'../constants/productConstants';import Meta from'../components/Meta';var ProductScreen=function ProductScreen(){var _useParams=useParams(),productId=_useParams.id;var history=useHistory();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),comment=_useState6[0],setComment=_useState6[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.productDetails;}),loading=_useSelector.loading,error=_useSelector.error,product=_useSelector.product;var _useSelector2=useSelector(function(state){return state.productReviewCreate;}),errorProductReview=_useSelector2.error,successProductReview=_useSelector2.success;var _useSelector3=useSelector(function(state){return state.userLogin;}),userInfo=_useSelector3.userInfo;useEffect(function(){if(successProductReview){swal('Review submitted!',{icon:'success'});setRating(0);setComment('');}dispatch({type:PRODUCT_CREATE_REVIEW_RESET});dispatch(listProductDetails(productId));},[dispatch,productId,successProductReview]);var addToCartHandler=function addToCartHandler(){history.push(\"/cart/\".concat(productId,\"?qty=\").concat(qty));};var submitHandler=function submitHandler(e){e.preventDefault();dispatch(createProductReview(productId,{rating:rating,comment:comment}));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{className:\"btn btn-light my-3\",to:\"/\"},\"Go Back\"),loading?/*#__PURE__*/React.createElement(Loader,null):error?/*#__PURE__*/React.createElement(Message,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Meta,{title:product.name}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(Image,{src:product===null||product===void 0?void 0:product.image,alt:product===null||product===void 0?void 0:product.name,fluid:true})),/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(\"h3\",null,product===null||product===void 0?void 0:product.name)),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Rating,{value:(product===null||product===void 0?void 0:product.rating)||0,text:\"\".concat(product===null||product===void 0?void 0:product.numReviews,\" reviews\"),color:\"#5aa962\"})),/*#__PURE__*/React.createElement(ListGroup.Item,null,\"Description: \",product===null||product===void 0?void 0:product.description))),/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,\"Price:\"),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"strong\",null,\"$ \",product===null||product===void 0?void 0:product.price)))),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,\"Status:\"),/*#__PURE__*/React.createElement(Col,null,product&&product.countInStock>0?'In Stock':'Out Of Stock'))),product.countInStock>0&&/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,\"Qty\"),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){setQty(e.target.value);}},_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/React.createElement(\"option\",{key:x+1,value:x+1},x+1);}))))),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Button,{onClick:addToCartHandler,className:\"btn-block\",type:\"button\",disabled:(product===null||product===void 0?void 0:product.countInStock)===0},\"Add to Cart\")))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(\"h2\",null,\"Reviews\"),!product.reviews.length&&/*#__PURE__*/React.createElement(Message,null,\"No Reviews\"),/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},product.reviews.map(function(review){return/*#__PURE__*/React.createElement(ListGroup.Item,{key:review._id},/*#__PURE__*/React.createElement(\"strong\",null,review.name),/*#__PURE__*/React.createElement(Rating,{value:review.rating,color:\"#5aa962\"}),/*#__PURE__*/React.createElement(\"p\",null,review.createdAt.substring(0,10)),/*#__PURE__*/React.createElement(\"p\",null,review.comment));}),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Write a Customer Review\"),errorProductReview&&/*#__PURE__*/React.createElement(Message,{variant:\"danger\"},errorProductReview),userInfo?/*#__PURE__*/React.createElement(Form,{onSubmit:submitHandler},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"rating\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Rating\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",value:rating,onChange:function onChange(e){return setRating(e.target.value);}},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select...\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"1 - Poor\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"2 - Fair\"),/*#__PURE__*/React.createElement(\"option\",{value:\"3\"},\"3 - Good\"),/*#__PURE__*/React.createElement(\"option\",{value:\"4\"},\"4 - Very Good\"),/*#__PURE__*/React.createElement(\"option\",{value:\"5\"},\"5 - Excellent\"))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"comment\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Comment\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"textarea\",rows:3,value:comment,onChange:function onChange(e){return setComment(e.target.value);}})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",variant:\"primary\"},\"Submit\")):/*#__PURE__*/React.createElement(Message,null,\"Please \",/*#__PURE__*/React.createElement(Link,{to:\"/login\"},\"Sign in\"),\" to write a review.\")))))));};export default ProductScreen;","map":{"version":3,"sources":["/home/ad.rapidops.com/kishor.rathva/Worspace/hapi-mongo-ts/client/src/screens/ProductScreen.tsx"],"names":["React","useEffect","useState","Link","useHistory","useParams","useDispatch","useSelector","Row","Col","Image","ListGroup","Card","Button","Form","Rating","Message","Loader","listProductDetails","createProductReview","swal","PRODUCT_CREATE_REVIEW_RESET","Meta","ProductScreen","productId","id","history","qty","setQty","rating","setRating","comment","setComment","dispatch","state","productDetails","loading","error","product","productReviewCreate","errorProductReview","successProductReview","success","userLogin","userInfo","icon","type","addToCartHandler","push","submitHandler","e","preventDefault","name","image","numReviews","description","price","countInStock","target","value","Array","keys","map","x","reviews","length","review","_id","createdAt","substring"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, FunctionComponent } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\nimport Rating from '../components/Rating';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listProductDetails, createProductReview } from '../actions/productActions';\nimport swal from 'sweetalert';\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants';\nimport Meta from '../components/Meta';\ninterface Props {}\n\nconst ProductScreen: FunctionComponent<Props> = () => {\n  const { id: productId } = useParams<any>();\n  const history = useHistory();\n  const [qty, setQty] = useState(1);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n\n  const dispatch = useDispatch();\n\n  const { loading, error, product } = useSelector((state: any) => state.productDetails);\n\n  const { error: errorProductReview, success: successProductReview } = useSelector(\n    (state: any) => state.productReviewCreate\n  );\n\n  const { userInfo } = useSelector((state: any) => state.userLogin);\n\n  useEffect(() => {\n    if (successProductReview) {\n      swal('Review submitted!', {\n        icon: 'success',\n      });\n      setRating(0);\n      setComment('');\n    }\n    dispatch({ type: PRODUCT_CREATE_REVIEW_RESET });\n    dispatch(listProductDetails(productId));\n  }, [dispatch, productId, successProductReview]);\n\n  const addToCartHandler = () => {\n    history.push(`/cart/${productId}?qty=${qty}`);\n  };\n\n  const submitHandler = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    dispatch(createProductReview(productId, { rating, comment }));\n  };\n\n  return (\n    <>\n      <Link className=\"btn btn-light my-3\" to=\"/\">\n        Go Back\n      </Link>\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant=\"danger\">{error}</Message>\n      ) : (\n        <>\n          <Meta title={product.name} />\n          <Row>\n            <Col md={6}>\n              <Image src={product?.image} alt={product?.name} fluid />\n            </Col>\n            <Col md={3}>\n              <ListGroup variant=\"flush\">\n                <ListGroup.Item>\n                  <h3>{product?.name}</h3>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <Rating value={product?.rating || 0} text={`${product?.numReviews} reviews`} color=\"#5aa962\" />\n                </ListGroup.Item>\n\n                <ListGroup.Item>Description: {product?.description}</ListGroup.Item>\n              </ListGroup>\n            </Col>\n            <Col md={3}>\n              <Card>\n                <ListGroup variant=\"flush\">\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>Price:</Col>\n                      <Col>\n                        <strong>$ {product?.price}</strong>\n                      </Col>\n                    </Row>\n                  </ListGroup.Item>\n\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>Status:</Col>\n                      <Col>{product && product.countInStock > 0 ? 'In Stock' : 'Out Of Stock'}</Col>\n                    </Row>\n                  </ListGroup.Item>\n\n                  {product.countInStock > 0 && (\n                    <ListGroup.Item>\n                      <Row>\n                        <Col>Qty</Col>\n                        <Col>\n                          <Form.Control\n                            as=\"select\"\n                            value={qty}\n                            onChange={(e: React.ChangeEvent<any>) => {\n                              setQty(e.target.value);\n                            }}\n                          >\n                            {[...Array(product.countInStock).keys()].map((x) => (\n                              <option key={x + 1} value={x + 1}>\n                                {x + 1}\n                              </option>\n                            ))}\n                          </Form.Control>\n                        </Col>\n                      </Row>\n                    </ListGroup.Item>\n                  )}\n                  <ListGroup.Item>\n                    <Button\n                      onClick={addToCartHandler}\n                      className=\"btn-block\"\n                      type=\"button\"\n                      disabled={product?.countInStock === 0}\n                    >\n                      Add to Cart\n                    </Button>\n                  </ListGroup.Item>\n                </ListGroup>\n              </Card>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={6}>\n              <h2>Reviews</h2>\n              {!product.reviews.length && <Message>No Reviews</Message>}\n              <ListGroup variant=\"flush\">\n                {product.reviews.map((review: any) => (\n                  <ListGroup.Item key={review._id}>\n                    <strong>{review.name}</strong>\n                    <Rating value={review.rating} color=\"#5aa962\" />\n                    <p>{review.createdAt.substring(0, 10)}</p>\n                    <p>{review.comment}</p>\n                  </ListGroup.Item>\n                ))}\n                <ListGroup.Item>\n                  <h2>Write a Customer Review</h2>\n                  {errorProductReview && <Message variant=\"danger\">{errorProductReview}</Message>}\n                  {userInfo ? (\n                    <Form onSubmit={submitHandler}>\n                      <Form.Group controlId=\"rating\">\n                        <Form.Label>Rating</Form.Label>\n                        <Form.Control as=\"select\" value={rating} onChange={(e: any) => setRating(e.target.value)}>\n                          <option value=\"\">Select...</option>\n                          <option value=\"1\">1 - Poor</option>\n                          <option value=\"2\">2 - Fair</option>\n                          <option value=\"3\">3 - Good</option>\n                          <option value=\"4\">4 - Very Good</option>\n                          <option value=\"5\">5 - Excellent</option>\n                        </Form.Control>\n                      </Form.Group>\n                      <Form.Group controlId=\"comment\">\n                        <Form.Label>Comment</Form.Label>\n                        <Form.Control\n                          as=\"textarea\"\n                          rows={3}\n                          value={comment}\n                          onChange={(e: any) => setComment(e.target.value)}\n                        ></Form.Control>\n                      </Form.Group>\n                      <Button type=\"submit\" variant=\"primary\">\n                        Submit\n                      </Button>\n                    </Form>\n                  ) : (\n                    <Message>\n                      Please <Link to=\"/login\">Sign in</Link> to write a review.\n                    </Message>\n                  )}\n                </ListGroup.Item>\n              </ListGroup>\n            </Col>\n          </Row>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default ProductScreen;\n"]},"metadata":{},"sourceType":"module"}