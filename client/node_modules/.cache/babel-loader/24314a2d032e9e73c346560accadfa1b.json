{"ast":null,"code":"import _toConsumableArray from\"/home/ad.rapidops.com/kishor.rathva/Worspace/hapi-mongo-ts/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/ad.rapidops.com/kishor.rathva/Worspace/hapi-mongo-ts/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Image,ListGroup,Card,Button,Form}from'react-bootstrap';import Rating from'../components/Rating';import Message from'../components/Message';import Loader from'../components/Loader';import{listProductDetails}from'../actions/productActions';var ProductScreen=function ProductScreen(_ref){var match=_ref.match,history=_ref.history;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.productDetails;}),loading=_useSelector.loading,error=_useSelector.error,product=_useSelector.product;useEffect(function(){dispatch(listProductDetails(match.params.id));},[match,dispatch]);var addToCartHandler=function addToCartHandler(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{className:\"btn btn-light my-3\",to:\"/\"},\"Go Back\"),loading?/*#__PURE__*/React.createElement(Loader,null):error?/*#__PURE__*/React.createElement(Message,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(Image,{src:product===null||product===void 0?void 0:product.image,alt:product===null||product===void 0?void 0:product.name,fluid:true})),/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(\"h3\",null,product===null||product===void 0?void 0:product.name)),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Rating,{value:(product===null||product===void 0?void 0:product.rating)||0,text:\"\".concat(product===null||product===void 0?void 0:product.numReviews,\" reviews\"),color:\"#5aa962\"})),/*#__PURE__*/React.createElement(ListGroup.Item,null,\"Description: \",product===null||product===void 0?void 0:product.description))),/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,\"Price:\"),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"strong\",null,\"$ \",product===null||product===void 0?void 0:product.price)))),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,\"Status:\"),/*#__PURE__*/React.createElement(Col,null,product&&product.countInStock>0?'In Stock':'Out Of Stock'))),product.countInStock>0&&/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,\"Qty\"),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){setQty(e.target.value);}},_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/React.createElement(\"option\",{key:x+1,value:x+1},x+1);}))))),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Button,{onClick:addToCartHandler,className:\"btn-block\",type:\"button\",disabled:(product===null||product===void 0?void 0:product.countInStock)===0},\"Add to Cart\")))))));};export default ProductScreen;","map":{"version":3,"sources":["/home/ad.rapidops.com/kishor.rathva/Worspace/hapi-mongo-ts/client/src/screens/ProductScreen.tsx"],"names":["React","useEffect","useState","Link","useDispatch","useSelector","Row","Col","Image","ListGroup","Card","Button","Form","Rating","Message","Loader","listProductDetails","ProductScreen","match","history","qty","setQty","dispatch","state","productDetails","loading","error","product","params","id","addToCartHandler","push","image","name","rating","numReviews","description","price","countInStock","e","target","value","Array","keys","map","x"],"mappings":"wXAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA8D,OAA9D,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,KAAnB,CAA0BC,SAA1B,CAAqCC,IAArC,CAA2CC,MAA3C,CAAmDC,IAAnD,KAA+D,iBAA/D,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,kBAAT,KAAmC,2BAAnC,CAOA,GAAMC,CAAAA,aAAuC,CAAG,QAA1CA,CAAAA,aAA0C,MAAwB,IAArBC,CAAAA,KAAqB,MAArBA,KAAqB,CAAdC,OAAc,MAAdA,OAAc,eAChDjB,QAAQ,CAAC,CAAD,CADwC,wCAC/DkB,GAD+D,eAC1DC,MAD0D,eAEtE,GAAMC,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CAFsE,iBAGlCC,WAAW,CAAC,SAACkB,KAAD,QAAgBA,CAAAA,KAAK,CAACC,cAAtB,EAAD,CAHuB,CAG9DC,OAH8D,cAG9DA,OAH8D,CAGrDC,KAHqD,cAGrDA,KAHqD,CAG9CC,OAH8C,cAG9CA,OAH8C,CAItE1B,SAAS,CAAC,UAAM,CACdqB,QAAQ,CAACN,kBAAkB,CAACE,KAAK,CAACU,MAAN,CAAaC,EAAd,CAAnB,CAAR,CACD,CAFQ,CAEN,CAACX,KAAD,CAAQI,QAAR,CAFM,CAAT,CAIA,GAAMQ,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7BX,OAAO,CAACY,IAAR,iBAAsBb,KAAK,CAACU,MAAN,CAAaC,EAAnC,iBAA6CT,GAA7C,GACD,CAFD,CAGA,mBACE,qDACE,oBAAC,IAAD,EAAM,SAAS,CAAC,oBAAhB,CAAqC,EAAE,CAAC,GAAxC,YADF,CAIGK,OAAO,cACN,oBAAC,MAAD,MADM,CAEJC,KAAK,cACP,oBAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,EAA2BA,KAA3B,CADO,cAGP,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACE,oBAAC,KAAD,EAAO,GAAG,CAAEC,OAAF,SAAEA,OAAF,iBAAEA,OAAO,CAAEK,KAArB,CAA4B,GAAG,CAAEL,OAAF,SAAEA,OAAF,iBAAEA,OAAO,CAAEM,IAA1C,CAAgD,KAAK,KAArD,EADF,CADF,cAIE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACE,oBAAC,SAAD,EAAW,OAAO,CAAC,OAAnB,eACE,oBAAC,SAAD,CAAW,IAAX,mBACE,8BAAKN,OAAL,SAAKA,OAAL,iBAAKA,OAAO,CAAEM,IAAd,CADF,CADF,cAIE,oBAAC,SAAD,CAAW,IAAX,mBACE,oBAAC,MAAD,EAAQ,KAAK,CAAE,CAAAN,OAAO,OAAP,EAAAA,OAAO,SAAP,QAAAA,OAAO,CAAEO,MAAT,GAAmB,CAAlC,CAAqC,IAAI,WAAKP,OAAL,SAAKA,OAAL,iBAAKA,OAAO,CAAEQ,UAAd,YAAzC,CAA6E,KAAK,CAAC,SAAnF,EADF,CAJF,cAQE,oBAAC,SAAD,CAAW,IAAX,sBAA8BR,OAA9B,SAA8BA,OAA9B,iBAA8BA,OAAO,CAAES,WAAvC,CARF,CADF,CAJF,cAgBE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACE,oBAAC,IAAD,mBACE,oBAAC,SAAD,EAAW,OAAO,CAAC,OAAnB,eACE,oBAAC,SAAD,CAAW,IAAX,mBACE,oBAAC,GAAD,mBACE,oBAAC,GAAD,eADF,cAEE,oBAAC,GAAD,mBACE,uCAAWT,OAAX,SAAWA,OAAX,iBAAWA,OAAO,CAAEU,KAApB,CADF,CAFF,CADF,CADF,cAUE,oBAAC,SAAD,CAAW,IAAX,mBACE,oBAAC,GAAD,mBACE,oBAAC,GAAD,gBADF,cAEE,oBAAC,GAAD,MAAMV,OAAO,EAAIA,OAAO,CAACW,YAAR,CAAuB,CAAlC,CAAsC,UAAtC,CAAmD,cAAzD,CAFF,CADF,CAVF,CAiBGX,OAAO,CAACW,YAAR,CAAuB,CAAvB,eACC,oBAAC,SAAD,CAAW,IAAX,mBACE,oBAAC,GAAD,mBACE,oBAAC,GAAD,YADF,cAEE,oBAAC,GAAD,mBACE,oBAAC,IAAD,CAAM,OAAN,EACE,EAAE,CAAC,QADL,CAEE,KAAK,CAAElB,GAFT,CAGE,QAAQ,CAAE,kBAACmB,CAAD,CAA+B,CACvClB,MAAM,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN,CACD,CALH,EAOG,mBAAIC,KAAK,CAACf,OAAO,CAACW,YAAT,CAAL,CAA4BK,IAA5B,EAAJ,EAAwCC,GAAxC,CAA4C,SAACC,CAAD,qBAC3C,8BAAQ,GAAG,CAAEA,CAAC,CAAG,CAAjB,CAAoB,KAAK,CAAEA,CAAC,CAAG,CAA/B,EACGA,CAAC,CAAG,CADP,CAD2C,EAA5C,CAPH,CADF,CAFF,CADF,CAlBJ,cAuCE,oBAAC,SAAD,CAAW,IAAX,mBACE,oBAAC,MAAD,EAAQ,OAAO,CAAEf,gBAAjB,CAAmC,SAAS,CAAC,WAA7C,CAAyD,IAAI,CAAC,QAA9D,CAAuE,QAAQ,CAAE,CAAAH,OAAO,OAAP,EAAAA,OAAO,SAAP,QAAAA,OAAO,CAAEW,YAAT,IAA0B,CAA3G,gBADF,CAvCF,CADF,CADF,CAhBF,CATJ,CADF,CA+ED,CA1FD,CA4FA,cAAerB,CAAAA,aAAf","sourcesContent":["import React, { useEffect, useState, FunctionComponent } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\nimport Rating from '../components/Rating';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listProductDetails } from '../actions/productActions';\n\ninterface Props {\n  match: any;\n  history: any;\n}\n\nconst ProductScreen: FunctionComponent<Props> = ({ match, history }) => {\n  const [qty, setQty] = useState(1);\n  const dispatch = useDispatch();\n  const { loading, error, product } = useSelector((state: any) => state.productDetails);\n  useEffect(() => {\n    dispatch(listProductDetails(match.params.id));\n  }, [match, dispatch]);\n\n  const addToCartHandler = () => {\n    history.push(`/cart/${match.params.id}?qty=${qty}`);\n  };\n  return (\n    <>\n      <Link className=\"btn btn-light my-3\" to=\"/\">\n        Go Back\n      </Link>\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant=\"danger\">{error}</Message>\n      ) : (\n        <Row>\n          <Col md={6}>\n            <Image src={product?.image} alt={product?.name} fluid />\n          </Col>\n          <Col md={3}>\n            <ListGroup variant=\"flush\">\n              <ListGroup.Item>\n                <h3>{product?.name}</h3>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Rating value={product?.rating || 0} text={`${product?.numReviews} reviews`} color=\"#5aa962\" />\n              </ListGroup.Item>\n\n              <ListGroup.Item>Description: {product?.description}</ListGroup.Item>\n            </ListGroup>\n          </Col>\n          <Col md={3}>\n            <Card>\n              <ListGroup variant=\"flush\">\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Price:</Col>\n                    <Col>\n                      <strong>$ {product?.price}</strong>\n                    </Col>\n                  </Row>\n                </ListGroup.Item>\n\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Status:</Col>\n                    <Col>{product && product.countInStock > 0 ? 'In Stock' : 'Out Of Stock'}</Col>\n                  </Row>\n                </ListGroup.Item>\n\n                {product.countInStock > 0 && (\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>Qty</Col>\n                      <Col>\n                        <Form.Control\n                          as=\"select\"\n                          value={qty}\n                          onChange={(e: React.ChangeEvent<any>) => {\n                            setQty(e.target.value);\n                          }}\n                        >\n                          {[...Array(product.countInStock).keys()].map((x) => (\n                            <option key={x + 1} value={x + 1}>\n                              {x + 1}\n                            </option>\n                          ))}\n                        </Form.Control>\n                      </Col>\n                    </Row>\n                  </ListGroup.Item>\n                )}\n                <ListGroup.Item>\n                  <Button onClick={addToCartHandler} className=\"btn-block\" type=\"button\" disabled={product?.countInStock === 0}>\n                    Add to Cart\n                  </Button>\n                </ListGroup.Item>\n              </ListGroup>\n            </Card>\n          </Col>\n        </Row>\n      )}\n    </>\n  );\n};\n\nexport default ProductScreen;\n"]},"metadata":{},"sourceType":"module"}