{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),o=a(6),s=a(34),u=a(75),i=a(76),m=a(17),d=a(30),E=Object(s.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"PRODUCT_LIST_REQUEST\":return{loading:!0,products:[]};case\"PRODUCT_LIST_SUCCESS\":return{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page};case\"PRODUCT_LIST_FAIL\":return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"PRODUCT_DETAILS_REQUEST\":return Object(m.a)({loading:!0},e);case\"PRODUCT_DETAILS_SUCCESS\":return{loading:!1,product:t.payload};case\"PRODUCT_DETAILS_FAIL\":return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"PRODUCT_DELETE_REQUEST\":return{loading:!0};case\"PRODUCT_DELETE_SUCCESS\":return{loading:!1,success:!0};case\"PRODUCT_DELETE_FAIL\":return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"PRODUCT_CREATE_REQUEST\":return{loading:!0};case\"PRODUCT_CREATE_SUCCESS\":return{loading:!1,success:!0,product:t.payload};case\"PRODUCT_CREATE_FAIL\":return{loading:!1,error:t.payload};case\"PRODUCT_CREATE_RESET\":return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"PRODUCT_UPDATE_REQUEST\":return{loading:!0};case\"PRODUCT_UPDATE_SUCCESS\":return{loading:!1,success:!0,product:t.payload};case\"PRODUCT_UPDATE_FAIL\":return{loading:!1,error:t.payload};case\"PRODUCT_UPDATE_RESET\":return{product:{}};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"PRODUCT_CREATE_REVIEW_REQUEST\":return{loading:!0};case\"PRODUCT_CREATE_REVIEW_SUCCESS\":return{loading:!1,success:!0};case\"PRODUCT_CREATE_REVIEW_FAIL\":return{loading:!1,error:t.payload};case\"PRODUCT_CREATE_REVIEW_RESET\":return{};default:return e}},productTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"PRODUCT_TOP_REQUEST\":return{loading:!0,products:[]};case\"PRODUCT_TOP_SUCCESS\":return{loading:!1,products:t.payload};case\"PRODUCT_TOP_FAIL\":return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"CART_ADD_ITEM\":var a=t.payload,n=e.cartItems.find((function(e){return e.product===a.product}));return n?Object(m.a)(Object(m.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?a:e}))}):Object(m.a)(Object(m.a)({},e),{},{cartItems:[].concat(Object(d.a)(e.cartItems),[a])});case\"CART_REMOVE_ITEM\":return Object(m.a)(Object(m.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case\"CART_SAVE_SHIPPING_ADDRESS\":return Object(m.a)(Object(m.a)({},e),{},{shippingAddress:t.payload});case\"CART_SAVE_PAYMENT_METHOD\":return Object(m.a)(Object(m.a)({},e),{},{paymentMethod:t.payload});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"USER_LOGIN_REQUEST\":return{loading:!0};case\"USER_LOGIN_SUCCESS\":return{loading:!1,userInfo:t.payload};case\"USER_LOGIN_FAIL\":return{loading:!1,error:t.payload};case\"USER_LOGOUT\":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"USER_REGISTER_REQUEST\":return{loading:!0};case\"USER_REGISTER_SUCCESS\":return{loading:!1,userInfo:t.payload};case\"USER_REGISTER_FAIL\":return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"USER_DETAILS_REQUEST\":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case\"USER_DETAILS_SUCCESS\":return{loading:!1,user:t.payload};case\"USER_DETAILS_FAIL\":return{loading:!1,error:t.payload};case\"USER_DETAILS_RESET\":return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"USER_UPDATE_PROFILE_REQUEST\":return{loading:!0};case\"USER_UPDATE_PROFILE_SUCCESS\":return{loading:!1,success:!0,userInfo:t.payload};case\"USER_UPDATE_PROFILE_FAIL\":return{loading:!1,error:t.payload};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"USER_LIST_REQUEST\":return{loading:!0};case\"USER_LIST_SUCCESS\":return{loading:!1,users:t.payload};case\"USER_LIST_FAIL\":return{loading:!1,error:t.payload};case\"USER_LIST_RESET\":return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"USER_DELETE_REQUEST\":return{loading:!0};case\"USER_DELETE_SUCCESS\":return{loading:!1,success:!0};case\"USER_DELETE_FAIL\":return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"USER_UPDATE_REQUEST\":return{loading:!0};case\"USER_UPDATE_SUCCESS\":return{loading:!1,success:!0};case\"USER_UPDATE_FAIL\":return{loading:!1,error:t.payload};case\"USER_UPDATE_RESET\":return{user:{}};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ORDER_CREATE_REQUEST\":return{loading:!0};case\"ORDER_CREATE_SUCCESS\":return{loading:!1,success:!0,order:t.payload};case\"ORDER_CREATE_FAIL\":return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ORDER_DETAILS_REQUEST\":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case\"ORDER_DETAILS_SUCCESS\":return{loading:!1,order:t.payload};case\"ORDER_DETAILS_FAIL\":return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ORDER_PAY_REQUEST\":return{loading:!0};case\"ORDER_PAY_SUCCESS\":return{loading:!1,success:!0};case\"ORDER_PAY_FAIL\":return{loading:!1,error:t.payload};case\"ORDER_PAY_RESET\":return{};default:return e}},orderListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ORDER_LIST_MY_REQUEST\":return{loading:!0};case\"ORDER_LIST_MY_SUCCESS\":return{loading:!1,orders:t.payload};case\"ORDER_LIST_MY_FAIL\":return{loading:!1,error:t.payload};case\"ORDER_LIST_MY_RESET\":return{orders:[]};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ORDER_LIST_REQUEST\":return{loading:!0};case\"ORDER_LIST_SUCCESS\":return{loading:!1,orders:t.payload};case\"ORDER_LIST_FAIL\":return{loading:!1,error:t.payload};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ORDER_DELIVER_REQUEST\":return{loading:!0};case\"ORDER_DELIVER_SUCCESS\":return{loading:!1,success:!0};case\"ORDER_DELIVER_FAIL\":return{loading:!1,error:t.DELIVERload};case\"ORDER_DELIVER_RESET\":return{};default:return e}}}),p=localStorage.getItem(\"cartItems\")?JSON.parse(localStorage.getItem(\"cartItems\")||\"{}\"):[],f=localStorage.getItem(\"userInfo\")?JSON.parse(localStorage.getItem(\"userInfo\")||\"{}\"):null,g={cart:{cartItems:p,shippingAddress:localStorage.getItem(\"shippingAddress\")?JSON.parse(localStorage.getItem(\"shippingAddress\")||\"{}\"):{}},userLogin:{userInfo:f}},v=[u.a],h=Object(s.createStore)(E,g,Object(i.composeWithDevTools)(s.applyMiddleware.apply(void 0,v))),S=(a(93),a(94),a(9)),y=a(15),b=a(122),_=a(13),O=a(131),R=a(123),I=a(128),C=a(7),T=a.n(C),L=a(10),U=a(11),A=a.n(U),D=function(e){return function(){var t=Object(L.a)(T.a.mark((function t(a,n){var r,l,c,o,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:\"USER_DETAILS_REQUEST\"}),r=n(),l=r.userLogin.userInfo,c={headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(null===l||void 0===l?void 0:l.token)}},t.next=6,A.a.get(\"/api/v1/users/\".concat(e),c);case 6:o=t.sent,s=o.data,a({type:\"USER_DETAILS_SUCCESS\",payload:s.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:\"USER_DETAILS_FAIL\",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case\"end\":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},j=a(8),k=a(129),P=a(78),w=function(){var e=Object(y.k)(),t=Object(n.useState)(\"\"),a=Object(j.a)(t,2),l=a[0],c=a[1];return r.a.createElement(k.a,{onSubmit:function(t){t.preventDefault(),l.trim()?e.push(\"/search/\".concat(l)):e.push(\"/\")},inline:!0},r.a.createElement(k.a.Control,{type:\"text\",name:\"q\",onChange:function(e){return c(e.target.value)},placeholder:\"Search Products...\",className:\"mr-sm-2 ml-sm-5\"}),r.a.createElement(P.a,{type:\"submit\",variant:\"outline-success\",className:\"p-2\"},\"Search\"))},x=function(){var e=Object(o.b)(),t=Object(y.k)(),a=Object(o.c)((function(e){return e.userLogin})).userInfo;return r.a.createElement(\"header\",null,r.a.createElement(O.a,{bg:\"dark\",variant:\"dark\",expand:\"lg\",collapseOnSelect:!0},r.a.createElement(b.a,null,r.a.createElement(_.LinkContainer,{to:\"/\"},r.a.createElement(O.a.Brand,null,\"E-commerce\")),r.a.createElement(O.a.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),r.a.createElement(O.a.Collapse,{id:\"basic-navbar-nav\"},r.a.createElement(w,null),r.a.createElement(R.a,{className:\"ml-auto\"},r.a.createElement(_.LinkContainer,{to:\"/cart\"},r.a.createElement(R.a.Link,null,r.a.createElement(\"i\",{className:\"fas fa-shopping-cart\"}),\" Cart\")),a?r.a.createElement(I.a,{title:a.name,id:\"username\"},r.a.createElement(_.LinkContainer,{to:\"/profile\"},r.a.createElement(I.a.Item,null,\"Profile\")),r.a.createElement(I.a.Item,{onClick:function(){e((function(e){localStorage.removeItem(\"userInfo\"),e({type:\"USER_LOGOUT\"}),e({type:\"USER_DETAILS_RESET\"}),e({type:\"ORDER_LIST_MY_RESET\"}),e({type:\"USER_LIST_RESET\"})})),t.push(\"/\")}},\"Logout\")):r.a.createElement(_.LinkContainer,{to:\"/login\"},r.a.createElement(R.a.Link,null,r.a.createElement(\"i\",{className:\"fas fa-user\"}),\" Sign In\")),a&&a.isAdmin&&r.a.createElement(I.a,{title:\"Admin\",id:\"adminmenu\"},r.a.createElement(_.LinkContainer,{to:\"/admin/userlist\"},r.a.createElement(I.a.Item,null,\"Users\")),r.a.createElement(_.LinkContainer,{to:\"/admin/productlist\"},r.a.createElement(I.a.Item,null,\"Products\")),r.a.createElement(_.LinkContainer,{to:\"/admin/orderlist\"},r.a.createElement(I.a.Item,null,\"Orders\"))))))))},N=a(124),F=a(77),G=function(e){return r.a.createElement(\"footer\",null,r.a.createElement(b.a,null,r.a.createElement(N.a,null,r.a.createElement(F.a,{className:\"text-center py-3\"},\"Copyright \\xa9 E-commerce\"))))},M=a(133),Q=function(e){var t=e.value,a=e.text,n=e.color;return r.a.createElement(\"div\",{className:\"rating\"},r.a.createElement(\"span\",null,r.a.createElement(\"i\",{style:{color:n},className:t>=1?\"fas fa-star\":t>=.5?\"fas fa-star-half-alt\":\"far fa-star\"}),r.a.createElement(\"i\",{style:{color:n},className:t>=2?\"fas fa-star\":t>=1.5?\"fas fa-star-half-alt\":\"far fa-star\"}),r.a.createElement(\"i\",{style:{color:n},className:t>=3?\"fas fa-star\":t>=2.5?\"fas fa-star-half-alt\":\"far fa-star\"}),r.a.createElement(\"i\",{style:{color:n},className:t>=4?\"fas fa-star\":t>=3.5?\"fas fa-star-half-alt\":\"far fa-star\"}),r.a.createElement(\"i\",{style:{color:n},className:t>=5?\"fas fa-star\":t>=4.5?\"fas fa-star-half-alt\":\"far fa-star\"})),r.a.createElement(\"span\",null,a&&a))};Q.defaultProps={color:\"#f8e825\"};var B=Q,V=function(e){var t=e.product;return r.a.createElement(M.a,{className:\"my-3 p-3 rounded\"},r.a.createElement(S.Link,{to:\"/product/\".concat(t._id)},r.a.createElement(M.a.Img,{src:t.image,variant:\"top\"})),r.a.createElement(M.a.Body,null,r.a.createElement(S.Link,{to:\"/product/\".concat(t._id)},r.a.createElement(M.a.Title,{as:\"div\"},r.a.createElement(\"strong\",null,t.name))),r.a.createElement(M.a.Text,{as:\"div\"},r.a.createElement(B,{value:t.rating,text:\"\".concat(t.numReviews,\" reviews\"),color:\"#5aa962\"})),r.a.createElement(M.a.Text,{as:\"h3\"},\"$\",t.price)))},Y=a(132),$=function(e){var t=e.variant,a=e.children;return r.a.createElement(Y.a,{variant:t},a)};$.defaultProps={variant:\"info\"};var q=$,z=a(125),W=function(e){return r.a.createElement(z.a,{animation:\"border\",role:\"status\",style:{width:\"100px\",height:\"100px\",margin:\"auto\",display:\"block\"}},r.a.createElement(\"span\",{className:\"sr-only\"},\"Loading...\"))},J=a(29),H=a.n(J),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";return function(){var a=Object(L.a)(T.a.mark((function a(n){var r,l;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:\"PRODUCT_LIST_REQUEST\"}),a.next=4,A.a.get(\"/api/v1/products?keyword=\".concat(e,\"&pageNumber=\").concat(t));case 4:r=a.sent,l=r.data,n({type:\"PRODUCT_LIST_SUCCESS\",payload:l.data}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:\"PRODUCT_LIST_FAIL\",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case\"end\":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(L.a)(T.a.mark((function t(a){var n,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:\"PRODUCT_DETAILS_REQUEST\"}),t.next=4,A.a.get(\"/api/v1/products/\".concat(e));case 4:n=t.sent,r=n.data,a({type:\"PRODUCT_DETAILS_SUCCESS\",payload:r.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:\"PRODUCT_DETAILS_FAIL\",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case\"end\":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Z=a(134),ee=function(e){var t=e.pages,a=e.page,n=e.isAdmin,l=void 0!==n&&n,c=e.keyword,o=void 0===c?\"\":c;return t>1?r.a.createElement(Z.a,null,Object(d.a)(Array(t).keys()).map((function(e){return r.a.createElement(_.LinkContainer,{key:e+1,to:l?\"/admin/productlist/\".concat(e+1):o?\"/search/\".concat(o,\"/page/\").concat(e+1):\"/page/\".concat(e+1)},r.a.createElement(Z.a.Item,{active:e+1===a},e+1))}))):r.a.createElement(r.a.Fragment,null)},te=a(130),ae=a(126),ne=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.productTopRated})),a=t.loading,l=t.error,c=t.products;return Object(n.useEffect)((function(){e(function(){var e=Object(L.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:\"PRODUCT_TOP_REQUEST\"}),e.next=4,A.a.get(\"/api/v1/products/top\");case 4:a=e.sent,n=a.data,t({type:\"PRODUCT_TOP_SUCCESS\",payload:n.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:\"PRODUCT_TOP_FAIL\",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case\"end\":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement(W,null):l?r.a.createElement(q,{variant:\"danger\"},l):r.a.createElement(te.a,{pause:\"hover\",className:\"bg-dark\"},c.map((function(e){return r.a.createElement(te.a.Item,{key:e._id},r.a.createElement(S.Link,{to:\"/product/\".concat(e._id)},r.a.createElement(ae.a,{src:e.image,alt:e.name,fluid:!0}),r.a.createElement(te.a.Caption,{className:\"carousel-caption\"},r.a.createElement(\"h2\",null,e.name,\" ($\",e.price,\")\"))))}))))},re=a(80),le=function(e){var t=e.title,a=e.description,n=e.keywords;return r.a.createElement(re.a,null,r.a.createElement(\"title\",null,t),r.a.createElement(\"meta\",{name:\"description\",content:a}),r.a.createElement(\"meta\",{name:\"keywords\",content:n}))},ce=le;le.defaultProps={title:\"Welcom to ecommerce\",description:\"We sell the best products for cheap.\",keywords:\"electronics, buy electronics, cheap electronics\"};var oe=function(){var e=Object(o.b)(),t=Object(y.m)(),a=t.keyword,l=t.pageNumber,c=void 0===l?1:l,s=Object(o.c)((function(e){return e.productList})),u=s.error,i=s.loading,m=s.products,d=s.page,E=s.pages;return Object(n.useEffect)((function(){e(K(a,c))}),[e,a,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null),a?r.a.createElement(S.Link,{to:\"/\",className:\"btn btn-light\"},\"Go Back\"):r.a.createElement(ne,null),r.a.createElement(\"h1\",null,\"Latest Products\"),i?r.a.createElement(W,null):u?r.a.createElement(q,{variant:\"danger\"},u):r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,null,m.map((function(e){return r.a.createElement(F.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(V,{product:e}))}))),r.a.createElement(ee,{pages:E,page:d,keyword:a||\"\"})))},se=a(135),ue=function(){var e=Object(y.m)().id,t=Object(y.k)(),a=Object(n.useState)(1),l=Object(j.a)(a,2),c=l[0],s=l[1],u=Object(n.useState)(0),i=Object(j.a)(u,2),m=i[0],E=i[1],p=Object(n.useState)(\"\"),f=Object(j.a)(p,2),g=f[0],v=f[1],h=Object(o.b)(),b=Object(o.c)((function(e){return e.productDetails})),_=b.loading,O=b.error,R=b.product,I=Object(o.c)((function(e){return e.productReviewCreate})),C=I.error,U=I.success,D=Object(o.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){U&&(H()(\"Review submitted!\",{icon:\"success\"}),E(0),v(\"\")),h({type:\"PRODUCT_CREATE_REVIEW_RESET\"}),h(X(e))}),[h,e,U]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.Link,{className:\"btn btn-light my-3\",to:\"/\"},\"Go Back\"),_?r.a.createElement(W,null):O?r.a.createElement(q,{variant:\"danger\"},O):r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{title:R.name}),r.a.createElement(N.a,null,r.a.createElement(F.a,{md:6},r.a.createElement(ae.a,{src:null===R||void 0===R?void 0:R.image,alt:null===R||void 0===R?void 0:R.name,fluid:!0})),r.a.createElement(F.a,{md:3},r.a.createElement(se.a,{variant:\"flush\"},r.a.createElement(se.a.Item,null,r.a.createElement(\"h3\",null,null===R||void 0===R?void 0:R.name)),r.a.createElement(se.a.Item,null,r.a.createElement(B,{value:(null===R||void 0===R?void 0:R.rating)||0,text:\"\".concat(null===R||void 0===R?void 0:R.numReviews,\" reviews\"),color:\"#5aa962\"})),r.a.createElement(se.a.Item,null,\"Description: \",null===R||void 0===R?void 0:R.description))),r.a.createElement(F.a,{md:3},r.a.createElement(M.a,null,r.a.createElement(se.a,{variant:\"flush\"},r.a.createElement(se.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(F.a,null,\"Price:\"),r.a.createElement(F.a,null,r.a.createElement(\"strong\",null,\"$ \",null===R||void 0===R?void 0:R.price)))),r.a.createElement(se.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(F.a,null,\"Status:\"),r.a.createElement(F.a,null,R&&R.countInStock>0?\"In Stock\":\"Out Of Stock\"))),R.countInStock>0&&r.a.createElement(se.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(F.a,null,\"Qty\"),r.a.createElement(F.a,null,r.a.createElement(k.a.Control,{as:\"select\",value:c,onChange:function(e){s(e.target.value)}},Object(d.a)(Array(R.countInStock).keys()).map((function(e){return r.a.createElement(\"option\",{key:e+1,value:e+1},e+1)})))))),r.a.createElement(se.a.Item,null,r.a.createElement(P.a,{onClick:function(){t.push(\"/cart/\".concat(e,\"?qty=\").concat(c))},className:\"btn-block\",type:\"button\",disabled:0===(null===R||void 0===R?void 0:R.countInStock)},\"Add to Cart\")))))),r.a.createElement(N.a,null,r.a.createElement(F.a,{md:6},r.a.createElement(\"h2\",null,\"Reviews\"),!R.reviews.length&&r.a.createElement(q,null,\"No Reviews\"),r.a.createElement(se.a,{variant:\"flush\"},R.reviews.map((function(e){return r.a.createElement(se.a.Item,{key:e._id},r.a.createElement(\"strong\",null,e.name),r.a.createElement(B,{value:e.rating,color:\"#5aa962\"}),r.a.createElement(\"p\",null,e.createdAt.substring(0,10)),r.a.createElement(\"p\",null,e.comment))})),r.a.createElement(se.a.Item,null,r.a.createElement(\"h2\",null,\"Write a Customer Review\"),C&&r.a.createElement(q,{variant:\"danger\"},C),D?r.a.createElement(k.a,{onSubmit:function(t){var a,n;t.preventDefault(),h((a=e,n={rating:m,comment:g},function(){var e=Object(L.a)(T.a.mark((function e(t,r){var l,c,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:\"PRODUCT_CREATE_REVIEW_REQUEST\"}),l=r(),c=l.userLogin.userInfo,o={headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(null===c||void 0===c?void 0:c.token)}},e.next=6,A.a.put(\"/api/v1/products/\".concat(a,\"/review\"),n,o);case 6:t({type:\"PRODUCT_CREATE_REVIEW_SUCCESS\"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:\"PRODUCT_CREATE_REVIEW_FAIL\",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case\"end\":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(k.a.Group,{controlId:\"rating\"},r.a.createElement(k.a.Label,null,\"Rating\"),r.a.createElement(k.a.Control,{as:\"select\",value:m,onChange:function(e){return E(e.target.value)}},r.a.createElement(\"option\",{value:\"\"},\"Select...\"),r.a.createElement(\"option\",{value:\"1\"},\"1 - Poor\"),r.a.createElement(\"option\",{value:\"2\"},\"2 - Fair\"),r.a.createElement(\"option\",{value:\"3\"},\"3 - Good\"),r.a.createElement(\"option\",{value:\"4\"},\"4 - Very Good\"),r.a.createElement(\"option\",{value:\"5\"},\"5 - Excellent\"))),r.a.createElement(k.a.Group,{controlId:\"comment\"},r.a.createElement(k.a.Label,null,\"Comment\"),r.a.createElement(k.a.Control,{as:\"textarea\",rows:3,value:g,onChange:function(e){return v(e.target.value)}})),r.a.createElement(P.a,{type:\"submit\",variant:\"primary\"},\"Submit\")):r.a.createElement(q,null,\"Please \",r.a.createElement(S.Link,{to:\"/login\"},\"Sign in\"),\" to write a review.\")))))))},ie=function(e,t){return function(){var a=Object(L.a)(T.a.mark((function a(n,r){var l,c;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.a.get(\"/api/v1/products/\".concat(e));case 2:l=a.sent,c=l.data,n({type:\"CART_ADD_ITEM\",payload:{product:c.data._id,name:c.data.name,image:c.data.image,price:c.data.price,countInStock:c.data.countInStock,qty:t}}),localStorage.setItem(\"cartItems\",JSON.stringify(r().cart.cartItems));case 6:case\"end\":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},me=function(e){var t=e.match,a=e.location,l=e.history,c=t.params.id,s=null===a||void 0===a?void 0:a.search.split(\"=\")[1],u=Object(o.b)(),i=Object(o.c)((function(e){return e.cart})).cartItems;Object(n.useEffect)((function(){c&&u(ie(c,s||1))}),[u,c,s]);var m=function(e){u(function(e){return function(t,a){t({type:\"CART_REMOVE_ITEM\",payload:e}),localStorage.setItem(\"cartItems\",JSON.stringify(a().cart.cartItems))}}(e))};return r.a.createElement(N.a,null,r.a.createElement(F.a,{md:8},r.a.createElement(\"h1\",null,\"Shopping Cart\"),i.length?r.a.createElement(se.a,{variant:\"flush\"},i.map((function(e){return r.a.createElement(se.a.Item,{key:e.product},r.a.createElement(N.a,null,r.a.createElement(F.a,{md:2},r.a.createElement(ae.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(F.a,{md:3},r.a.createElement(S.Link,{to:\"/product/\".concat(e.product)},e.name)),r.a.createElement(F.a,{md:2},\"$\",e.price),r.a.createElement(F.a,{md:2},r.a.createElement(k.a.Control,{as:\"select\",value:e.qty,onChange:function(t){u(ie(e.product,Number(t.target.value)))}},Object(d.a)(Array(e.countInStock).keys()).map((function(e){return r.a.createElement(\"option\",{key:e+1,value:e+1},e+1)})))),r.a.createElement(F.a,{md:2},r.a.createElement(P.a,{type:\"button\",variant:\"light\",onClick:function(){return m(e.product)}},r.a.createElement(\"i\",{className:\"fas fa-trash\"})))))}))):r.a.createElement(q,null,\"Your cart is empty \",r.a.createElement(S.Link,{to:\"/\"},\"Go Back\"))),r.a.createElement(F.a,{md:4},r.a.createElement(M.a,null,r.a.createElement(se.a,{variant:\"flush\"},r.a.createElement(se.a.Item,null,r.a.createElement(\"h2\",null,\"Subtotal (\",i.reduce((function(e,t){return e+t.qty}),0),\") items\"),\"$\",i.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)),r.a.createElement(se.a.Item,null,r.a.createElement(P.a,{type:\"button\",className:\"btn-block\",disabled:0===i.length,onClick:function(){l.push(\"/login?redirect=shipping\")}},\"Procced To Checkout\"))))))},de=function(e){var t=e.children;return r.a.createElement(b.a,null,r.a.createElement(N.a,{className:\"justify-content-md-center\"},r.a.createElement(F.a,{xs:12,md:6},t)))},Ee=function(e){var t=e.location,a=e.history,l=Object(n.useState)(\"\"),c=Object(j.a)(l,2),s=c[0],u=c[1],i=Object(n.useState)(\"\"),m=Object(j.a)(i,2),d=m[0],E=m[1],p=Object(o.b)(),f=Object(o.c)((function(e){return e.userLogin})),g=f.loading,v=f.error,h=f.userInfo,y=t.search?t.search.split(\"=\")[1]:\"/\";Object(n.useEffect)((function(){h&&a.push(y)}),[a,h,y]);return r.a.createElement(de,null,r.a.createElement(\"h1\",null,\"Sign In\"),v&&r.a.createElement(q,{variant:\"danger\"},v),g&&r.a.createElement(W,null),r.a.createElement(k.a,{onSubmit:function(e){e.preventDefault(),p(function(e,t){return function(){var a=Object(L.a)(T.a.mark((function a(n){var r,l,c;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:\"USER_LOGIN_REQUEST\"}),r={headers:{\"Content-Type\":\"application/json\"}},a.next=5,A.a.post(\"/api/v1/login\",{email:e,password:t},r);case 5:l=a.sent,c=l.data,n({type:\"USER_LOGIN_SUCCESS\",payload:c.data}),localStorage.setItem(\"userInfo\",JSON.stringify(c.data)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:\"USER_LOGIN_FAIL\",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case\"end\":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(s,d))}},r.a.createElement(k.a.Group,{controlId:\"email\"},r.a.createElement(k.a.Label,null,\"Email Address\"),r.a.createElement(k.a.Control,{type:\"email\",placeholder:\"Enter email\",onChange:function(e){return u(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"password\"},r.a.createElement(k.a.Label,null,\"password Address\"),r.a.createElement(k.a.Control,{type:\"password\",placeholder:\"Enter password\",onChange:function(e){return E(e.target.value)}})),r.a.createElement(P.a,{type:\"submit\",variant:\"primary\"},\"Sign In\")),r.a.createElement(N.a,{className:\"py-3\"},r.a.createElement(F.a,null,\"New Customer? \",r.a.createElement(S.Link,{to:y?\"/register?redirect=\".concat(y):\"/register\"},\"Register\"))))},pe=function(e){var t=e.location,a=e.history,l=Object(n.useState)(\"\"),c=Object(j.a)(l,2),s=c[0],u=c[1],i=Object(n.useState)(\"\"),m=Object(j.a)(i,2),d=m[0],E=m[1],p=Object(n.useState)(\"\"),f=Object(j.a)(p,2),g=f[0],v=f[1],h=Object(n.useState)(\"\"),y=Object(j.a)(h,2),b=y[0],_=y[1],O=Object(n.useState)(null),R=Object(j.a)(O,2),I=R[0],C=R[1],U=Object(o.b)(),D=Object(o.c)((function(e){return e.userRegister})),w=D.loading,x=D.error,G=D.userInfo,M=t.search?t.search.split(\"=\"):\"/\";Object(n.useEffect)((function(){G&&a.push(M)}),[a,G,M]);return r.a.createElement(de,null,r.a.createElement(\"h1\",null,\"Sign Up\"),x&&r.a.createElement(q,{variant:\"danger\"},x),I&&r.a.createElement(q,{variant:\"danger\"},I),w&&r.a.createElement(W,null),r.a.createElement(k.a,{onSubmit:function(e){e.preventDefault(),d!==b?C(\"Passwords do not match\"):U(function(e,t,a){return function(){var n=Object(L.a)(T.a.mark((function n(r){var l,c,o;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:\"USER_REGISTER_REQUEST\"}),l={headers:{\"Content-Type\":\"application/json\"}},n.next=5,A.a.post(\"/api/v1/register\",{name:e,email:t,password:a},l);case 5:c=n.sent,o=c.data,r({type:\"USER_REGISTER_SUCCESS\",payload:o.data}),r({type:\"USER_LOGIN_SUCCESS\",payload:o.data}),localStorage.setItem(\"userInfo\",JSON.stringify(o.data)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r({type:\"USER_REGISTER_FAIL\",payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case\"end\":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(g,s,d))}},r.a.createElement(k.a.Group,{controlId:\"name\"},r.a.createElement(k.a.Label,null,\"name Address\"),r.a.createElement(k.a.Control,{type:\"text\",placeholder:\"Enter name\",onChange:function(e){return v(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"email\"},r.a.createElement(k.a.Label,null,\"Email Address\"),r.a.createElement(k.a.Control,{type:\"email\",placeholder:\"Enter email\",onChange:function(e){return u(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"password\"},r.a.createElement(k.a.Label,null,\"password Address\"),r.a.createElement(k.a.Control,{type:\"password\",placeholder:\"Enter password\",onChange:function(e){return E(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"confirmPassword\"},r.a.createElement(k.a.Label,null,\"Confirm Password\"),r.a.createElement(k.a.Control,{type:\"password\",placeholder:\"Confirm Password\",onChange:function(e){return _(e.target.value)}})),r.a.createElement(P.a,{type:\"submit\",variant:\"primary\"},\"Register\")),r.a.createElement(N.a,{className:\"py-3\"},r.a.createElement(F.a,null,\"Have an account? \",r.a.createElement(S.Link,{to:M?\"/login?redirect=\".concat(M):\"/login\"},\"Login\"))))},fe=a(127),ge=function(e){return function(){var t=Object(L.a)(T.a.mark((function t(a,n){var r,l,c,o,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:\"ORDER_DETAILS_REQUEST\"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:\"Bearer \".concat(null===l||void 0===l?void 0:l.token)}},t.next=6,A.a.get(\"/api/v1/orders/\".concat(e),c);case 6:o=t.sent,s=o.data,a({type:\"ORDER_DETAILS_SUCCESS\",payload:s.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:\"ORDER_DETAILS_FAIL\",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case\"end\":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},ve=function(e){var t=e.history,a=Object(n.useState)(\"\"),l=Object(j.a)(a,2),c=l[0],s=l[1],u=Object(n.useState)(void 0),i=Object(j.a)(u,2),m=i[0],d=i[1],E=Object(n.useState)(\"\"),p=Object(j.a)(E,2),f=p[0],g=p[1],v=Object(n.useState)(void 0),h=Object(j.a)(v,2),S=h[0],y=h[1],b=Object(n.useState)(null),O=Object(j.a)(b,2),R=O[0],I=O[1],C=Object(o.b)(),U=Object(o.c)((function(e){return e.userDetails})),w=U.loading,x=U.user,G=U.error,M=Object(o.c)((function(e){return e.userLogin})).userInfo,Q=Object(o.c)((function(e){return e.userUpdateProfile})),B=Q.success,V=Q.error,Y=Object(o.c)((function(e){return e.orderListMy})),$=Y.loading,z=Y.orders,J=Y.error;Object(n.useEffect)((function(){C(function(){var e=Object(L.a)(T.a.mark((function e(t,a){var n,r,l,c,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:\"ORDER_LIST_MY_REQUEST\"}),n=a(),r=n.userLogin.userInfo,l={headers:{Authorization:\"Bearer \".concat(null===r||void 0===r?void 0:r.token)}},e.next=6,A.a.get(\"/api/v1/orders/myorders\",l);case 6:c=e.sent,o=c.data,t({type:\"ORDER_LIST_MY_SUCCESS\",payload:o.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:\"ORDER_LIST_MY_FAIL\",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case\"end\":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())}),[]),Object(n.useEffect)((function(){M?(null===x||void 0===x?void 0:x.name)?(g(x.name),s(x.email)):C(D(\"profile\")):t.push(\"/login\")}),[C,t,M,x]);return r.a.createElement(N.a,null,r.a.createElement(F.a,{md:3},r.a.createElement(\"h2\",null,\"User Profile\"),G&&r.a.createElement(q,{variant:\"danger\"},G),V&&r.a.createElement(q,{variant:\"danger\"},V),R&&r.a.createElement(q,{variant:\"danger\"},R),B&&r.a.createElement(q,{variant:\"success\"},\"Profile Updated\"),w&&r.a.createElement(W,null),r.a.createElement(k.a,{onSubmit:function(e){e.preventDefault(),m!==S?I(\"Passwords do not match\"):C(function(e){return function(){var t=Object(L.a)(T.a.mark((function t(a,n){var r,l,c,o,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:\"USER_UPDATE_PROFILE_REQUEST\"}),r=n(),l=r.userLogin.userInfo,c={headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(null===l||void 0===l?void 0:l.token)}},t.next=6,A.a.put(\"/api/v1/users/profile\",e,c);case 6:o=t.sent,s=o.data,a({type:\"USER_UPDATE_PROFILE_SUCCESS\",payload:s.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:\"USER_UPDATE_PROFILE_FAIL\",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case\"end\":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({name:f,email:c,password:m}))}},r.a.createElement(k.a.Group,{controlId:\"name\"},r.a.createElement(k.a.Label,null,\"name Address\"),r.a.createElement(k.a.Control,{type:\"name\",placeholder:\"Enter name\",value:f,onChange:function(e){return g(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"email\"},r.a.createElement(k.a.Label,null,\"Email Address\"),r.a.createElement(k.a.Control,{type:\"email\",placeholder:\"Enter email\",value:c,onChange:function(e){return s(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"password\"},r.a.createElement(k.a.Label,null,\"password Address\"),r.a.createElement(k.a.Control,{type:\"password\",placeholder:\"Enter password\",onChange:function(e){return d(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"confirmPassword\"},r.a.createElement(k.a.Label,null,\"Confirm Password\"),r.a.createElement(k.a.Control,{type:\"password\",placeholder:\"Confirm Password\",onChange:function(e){return y(e.target.value)}})),r.a.createElement(P.a,{type:\"submit\",variant:\"primary\"},\"Update\"))),r.a.createElement(F.a,{md:9},r.a.createElement(\"h2\",null,\"My Orders\"),$?r.a.createElement(W,null):J?r.a.createElement(q,{variant:\"danger\"},J):r.a.createElement(fe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:\"table-sm\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"ID\"),r.a.createElement(\"th\",null,\"DATE\"),r.a.createElement(\"th\",null,\"TOTAL\"),r.a.createElement(\"th\",null,\"PAID\"),r.a.createElement(\"th\",null,\"DELIVERED\"),r.a.createElement(\"th\",null))),r.a.createElement(\"tbody\",null,z.map((function(e){return r.a.createElement(\"tr\",{key:e._id},r.a.createElement(\"td\",null,e._id),r.a.createElement(\"td\",null,e.createdAt.substring(0,10)),r.a.createElement(\"td\",null,e.totalPrice),r.a.createElement(\"td\",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement(\"i\",{className:\"fas fa-times\",style:{color:\"red\"}})),r.a.createElement(\"td\",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement(\"i\",{className:\"fas fa-times\",style:{color:\"red\"}})),r.a.createElement(\"td\",null,r.a.createElement(_.LinkContainer,{to:\"/order/\".concat(e._id)},r.a.createElement(P.a,{className:\"btn-sm\",variant:\"light\"},\"Details\"))))}))))))},he=function(e){var t=e.step1,a=e.step2,n=e.step3,l=e.step4;return r.a.createElement(R.a,{className:\"justify-content-center mb-4\"},r.a.createElement(R.a.Item,null,t?r.a.createElement(_.LinkContainer,{to:\"/login\"},r.a.createElement(R.a.Link,null,\"Sign In\")):r.a.createElement(R.a.Link,{disabled:!0},\"Sign In\")),r.a.createElement(R.a.Item,null,a?r.a.createElement(_.LinkContainer,{to:\"/shipping\"},r.a.createElement(R.a.Link,null,\"Shipping\")):r.a.createElement(R.a.Link,{disabled:!0},\"Shipping\")),r.a.createElement(R.a.Item,null,n?r.a.createElement(_.LinkContainer,{to:\"/payment\"},r.a.createElement(R.a.Link,null,\"Payment\")):r.a.createElement(R.a.Link,{disabled:!0},\"Payment\")),r.a.createElement(R.a.Item,null,l?r.a.createElement(_.LinkContainer,{to:\"/placeorder\"},r.a.createElement(R.a.Link,null,\"Place Order\")):r.a.createElement(R.a.Link,{disabled:!0},\"Place Order\")))},Se=function(e){var t=e.history,a=Object(o.c)((function(e){return e.cart})).shippingAddress,l=Object(n.useState)(a.address),c=Object(j.a)(l,2),s=c[0],u=c[1],i=Object(n.useState)(a.city),m=Object(j.a)(i,2),d=m[0],E=m[1],p=Object(n.useState)(a.postalCode),f=Object(j.a)(p,2),g=f[0],v=f[1],h=Object(n.useState)(a.country),S=Object(j.a)(h,2),y=S[0],b=S[1],_=Object(o.b)();return r.a.createElement(de,null,r.a.createElement(he,{step1:!0,step2:!0}),r.a.createElement(\"h1\",null,\"Shipping\"),r.a.createElement(\"form\",{onSubmit:function(e){var a;e.preventDefault(),_((a={address:s,city:d,postalCode:g,country:y},function(e){e({type:\"CART_SAVE_SHIPPING_ADDRESS\",payload:a}),localStorage.setItem(\"shippingAddress\",JSON.stringify(a))})),t.push(\"/payment\")}},r.a.createElement(k.a.Group,{controlId:\"address\"},r.a.createElement(k.a.Label,null,\"Address\"),r.a.createElement(k.a.Control,{type:\"text\",placeholder:\"Enter address\",value:s,required:!0,onChange:function(e){return u(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"city\"},r.a.createElement(k.a.Label,null,\"City\"),r.a.createElement(k.a.Control,{type:\"text\",placeholder:\"Enter city\",value:d,required:!0,onChange:function(e){return E(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"postalCode\"},r.a.createElement(k.a.Label,null,\"postalCode\"),r.a.createElement(k.a.Control,{type:\"text\",placeholder:\"Enter postal code\",value:g,required:!0,onChange:function(e){return v(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"country\"},r.a.createElement(k.a.Label,null,\"Country\"),r.a.createElement(k.a.Control,{type:\"text\",placeholder:\"Enter country\",value:y,required:!0,onChange:function(e){return b(e.target.value)}})),r.a.createElement(P.a,{type:\"submit\",variant:\"primary\"},\"Continue\")))},ye=function(e){var t=e.history,a=Object(o.c)((function(e){return e.cart})).shippingAddress,l=Object(n.useState)(\"PayPal\"),c=Object(j.a)(l,2),s=c[0],u=c[1],i=Object(o.b)();a||t.push(\"/shipping\");return r.a.createElement(de,null,r.a.createElement(he,{step1:!0,step2:!0,step3:!0}),r.a.createElement(\"h1\",null,\"Payment Method\"),r.a.createElement(\"form\",{onSubmit:function(e){var a;e.preventDefault(),i((a=s,function(e){e({type:\"CART_SAVE_PAYMENT_METHOD\",payload:a}),localStorage.setItem(\"paymentMethod\",JSON.stringify(a))})),t.push(\"/placeorder\")}},r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Label,{as:\"legend\"},\"Select Payment Method\"),r.a.createElement(F.a,null,r.a.createElement(k.a.Check,{type:\"radio\",label:\"PayPal or Credit Card\",id:\"PayPal\",name:\"paymentMethod\",value:\"PayPal\",checked:!0,onChange:function(e){return u(e.target.value)}}),r.a.createElement(k.a.Check,{type:\"radio\",label:\"Stripe\",id:\"Stripe\",name:\"paymentMethod\",value:\"Stripe\",onChange:function(e){return u(e.target.value)}}))),r.a.createElement(P.a,{type:\"submit\",variant:\"primary\"},\"Continue\")))},be=function(e){return(Math.round(100*e)/100).toFixed(2)},_e=function(e){var t,a,l,c,s=e.history,u=Object(o.c)((function(e){return e.cart})),i=Object(o.b)();u.itemsPrice=be(u.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),u.shippingPrice=be(u.itemsPrice>100?0:100),u.taxPrice=be(Number((.15*u.itemsPrice).toFixed(2))),u.totalPrice=be(Number(u.itemsPrice)+Number(u.shippingPrice)+Number(u.taxPrice));var m=Object(o.c)((function(e){return e.orderCreate})),d=m.order,E=m.success,p=m.error;Object(n.useEffect)((function(){E&&s.push(\"/order/\".concat(d._id))}),[s,E]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(he,{step1:!0,step2:!0,step3:!0,step4:!0}),r.a.createElement(N.a,null,r.a.createElement(F.a,{md:8},r.a.createElement(se.a,{variant:\"flush\"},r.a.createElement(se.a.Item,null,r.a.createElement(\"h2\",null,\"Shipping\"),r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"Address:\"),null===(t=u.shippingAddress)||void 0===t?void 0:t.address,\",\",null===(a=u.shippingAddress)||void 0===a?void 0:a.city,\" \",null===(l=u.shippingAddress)||void 0===l?void 0:l.postalCode,\",\",\" \",null===(c=u.shippingAddress)||void 0===c?void 0:c.country)),r.a.createElement(se.a.Item,null,r.a.createElement(\"h2\",null,\"Payment Method\"),r.a.createElement(\"strong\",null,\"Method:\"),u.paymentMethod),r.a.createElement(se.a.Item,null,r.a.createElement(\"h2\",null,\"Order Items\"),r.a.createElement(\"strong\",null,\"Method:\"),u.cartItems.length?r.a.createElement(se.a,{variant:\"flush\"},u.cartItems.map((function(e,t){return r.a.createElement(se.a.Item,{key:t},r.a.createElement(N.a,null,r.a.createElement(F.a,{md:1},r.a.createElement(ae.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(F.a,null,r.a.createElement(S.Link,{to:\"/product/\".concat(e.product)},e.name)),r.a.createElement(F.a,{md:4},e.qty,\" x $\",e.price,\" = $\",e.qty*e.price)))}))):r.a.createElement(q,null,\"Your cart is empty\")))),r.a.createElement(F.a,{md:4},r.a.createElement(M.a,null,r.a.createElement(se.a,{variant:\"flush\"},r.a.createElement(se.a.Item,null,r.a.createElement(\"h2\",null,\"Order Summary\")),r.a.createElement(se.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(F.a,null,\"Items\"),r.a.createElement(F.a,null,\"$\",u.itemsPrice))),r.a.createElement(se.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(F.a,null,\"Shipping\"),r.a.createElement(F.a,null,\"$\",u.shippingPrice))),r.a.createElement(se.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(F.a,null,\"Tax\"),r.a.createElement(F.a,null,\"$\",u.taxPrice))),r.a.createElement(se.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(F.a,null,\"Total\"),r.a.createElement(F.a,null,\"$\",u.totalPrice))),p&&r.a.createElement(se.a.Item,null,r.a.createElement(q,{variant:\"danger\"},p)),r.a.createElement(se.a.Item,null,r.a.createElement(P.a,{type:\"Button\",className:\"btn-block\",disabled:!u.cartItems,onClick:function(){i(function(e){return function(){var t=Object(L.a)(T.a.mark((function t(a,n){var r,l,c,o,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:\"ORDER_CREATE_REQUEST\"}),r=n(),l=r.userLogin.userInfo,c={headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(null===l||void 0===l?void 0:l.token)}},t.next=6,A.a.post(\"/api/v1/orders\",e,c);case 6:o=t.sent,s=o.data,a({type:\"ORDER_CREATE_SUCCESS\",payload:s.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:\"ORDER_CREATE_FAIL\",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case\"end\":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({orderItems:u.cartItems,shippingAddress:u.shippingAddress,paymentMethod:u.paymentMethod,itemsPrice:u.itemsPrice,shippingPrice:u.shippingPrice,taxPrice:u.taxPrice,totalPrice:u.totalPrice}))}},\"Place Order\")))))))},Oe=a(83),Re=function(){var e,t,a,l,c,s=Object(y.k)(),u=Object(y.m)().id,i=Object(n.useState)(\"\"),m=Object(j.a)(i,2),d=m[0],E=m[1],p=Object(n.useState)(!1),f=Object(j.a)(p,2),g=f[0],v=f[1],h=Object(o.b)(),b=Object(o.c)((function(e){return e.orderDetails})),_=b.order,O=b.loading,R=b.error,I=Object(o.c)((function(e){return e.orderPay})),C=I.loading,U=I.success,D=Object(o.c)((function(e){return e.orderDeliver})),k=D.loading,w=D.success,x=Object(o.c)((function(e){return e.userLogin})).userInfo;!O&&_&&(_.itemsPrice=(c=_.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0),(Math.round(100*c)/100).toFixed(2))),Object(n.useEffect)((function(){h(ge(u))}),[]),Object(n.useEffect)((function(){x||s.push(\"/login\");var e=function(){var e=Object(L.a)(T.a.mark((function e(){var t,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get(\"/api/v1/config/paypal\");case 2:t=e.sent,a=t.data,E(a);case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(!_||U||w)&&(h(ge(u)),h({type:\"ORDER_PAY_RESET\"}),h({type:\"ORDER_DELIVER_RESET\"})),e()}),[u,h,U,w,_,s,x]);return O?r.a.createElement(W,null):R?r.a.createElement(q,{variant:\"danger\"},R):r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h1\",null,\"Order \",_._id),r.a.createElement(N.a,null,r.a.createElement(F.a,{md:8},r.a.createElement(se.a,{variant:\"flush\"},r.a.createElement(se.a.Item,null,r.a.createElement(\"h2\",null,\"Shipping\"),r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"Name: \"),\" \",_.user.name),r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"Email: \"),\" \",r.a.createElement(\"a\",{href:\"mailto:\".concat(_.user.email)},_.user.email)),r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"Address:\"),null===(e=_.shippingAddress)||void 0===e?void 0:e.address,\",\",null===(t=_.shippingAddress)||void 0===t?void 0:t.city,\" \",null===(a=_.shippingAddress)||void 0===a?void 0:a.postalCode,\",\",\" \",null===(l=_.shippingAddress)||void 0===l?void 0:l.country),_.isDelivered?r.a.createElement(q,{variant:\"success\"},\"Deliverd on \",_.deliveredAt):r.a.createElement(q,{variant:\"danger\"},\"Not Deliverd\")),r.a.createElement(se.a.Item,null,r.a.createElement(\"h2\",null,\"Payment Method\"),r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"Method:\"),_.paymentMethod),_.isPaid?r.a.createElement(q,{variant:\"success\"},\"Paid on \",_.paidAt):r.a.createElement(q,{variant:\"danger\"},\"Not Paid\")),r.a.createElement(se.a.Item,null,r.a.createElement(\"h2\",null,\"Order Items\"),r.a.createElement(\"strong\",null,\"Method:\"),_.orderItems.length?r.a.createElement(se.a,{variant:\"flush\"},_.orderItems.map((function(e,t){return r.a.createElement(se.a.Item,{key:t},r.a.createElement(N.a,null,r.a.createElement(F.a,{md:1},r.a.createElement(ae.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(F.a,null,r.a.createElement(S.Link,{to:\"/product/\".concat(e.product)},e.name)),r.a.createElement(F.a,{md:4},e.qty,\" x $\",e.price,\" = $\",e.qty*e.price)))}))):r.a.createElement(q,null,\"Order is empty\")))),r.a.createElement(F.a,{md:4},r.a.createElement(M.a,null,r.a.createElement(se.a,{variant:\"flush\"},r.a.createElement(se.a.Item,null,r.a.createElement(\"h2\",null,\"Order Summary\")),r.a.createElement(se.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(F.a,null,\"Items\"),r.a.createElement(F.a,null,\"$\",_.itemsPrice))),r.a.createElement(se.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(F.a,null,\"Shipping\"),r.a.createElement(F.a,null,\"$\",_.shippingPrice))),r.a.createElement(se.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(F.a,null,\"Tax\"),r.a.createElement(F.a,null,\"$\",_.taxPrice))),r.a.createElement(se.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(F.a,null,\"Total\"),r.a.createElement(F.a,null,\"$\",_.totalPrice))),!_.isPaid&&r.a.createElement(se.a.Item,null,C&&r.a.createElement(W,null),!g&&r.a.createElement(W,null),d?r.a.createElement(Oe.PayPalButton,{amount:_.totalPrice,onSuccess:function(e){h(function(e,t){return function(){var a=Object(L.a)(T.a.mark((function a(n,r){var l,c,o,s,u;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:\"ORDER_PAY_REQUEST\"}),l=r(),c=l.userLogin.userInfo,o={headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(null===c||void 0===c?void 0:c.token)}},a.next=6,A.a.put(\"/api/v1/orders/\".concat(e,\"/pay\"),t,o);case 6:s=a.sent,u=s.data,n({type:\"ORDER_PAY_SUCCESS\",payload:u.data}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:\"ORDER_PAY_FAIL\",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case\"end\":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(u,e))},options:{clientId:d},onButtonReady:function(){return v(!0)}}):r.a.createElement(W,null)),x&&x.isAdmin&&_.isPaid&&!_.isDelivered&&r.a.createElement(se.a.Item,null,k&&r.a.createElement(W,null),r.a.createElement(P.a,{type:\"button\",className:\"btn btn-block\",onClick:function(){h(function(e){return function(){var t=Object(L.a)(T.a.mark((function t(a,n){var r,l,c,o,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:\"ORDER_DELIVER_REQUEST\"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:\"Bearer \".concat(null===l||void 0===l?void 0:l.token)}},t.next=6,A.a.put(\"/api/v1/orders/\".concat(e,\"/deliver\"),{},c);case 6:o=t.sent,s=o.data,a({type:\"ORDER_DELIVER_SUCCESS\",payload:s.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:\"ORDER_DELIVER_FAIL\",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case\"end\":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(u))}},\"Mark As Deliverd\")))))))},Ie=function(){var e=Object(o.b)(),t=Object(y.k)(),a=Object(o.c)((function(e){return e.userList})),l=a.loading,c=a.error,s=a.users,u=Object(o.c)((function(e){return e.userLogin})).userInfo,i=Object(o.c)((function(e){return e.userDelete})).success;Object(n.useEffect)((function(){u&&u.isAdmin?e(function(){var e=Object(L.a)(T.a.mark((function e(t,a){var n,r,l,c,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:\"USER_LIST_REQUEST\"}),n=a(),r=n.userLogin.userInfo,l={headers:{Authorization:\"Bearer \".concat(null===r||void 0===r?void 0:r.token)}},e.next=6,A.a.get(\"/api/v1/users\",l);case 6:c=e.sent,o=c.data,t({type:\"USER_LIST_SUCCESS\",payload:o.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:\"USER_LIST_FAIL\",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case\"end\":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push(\"/login\")}),[e,t,u,i]);var m=function(t){H()({title:\"Are you sure?\",text:\"Once deleted, you will not be able to recover this user!\",icon:\"warning\",buttons:[!0,!0],dangerMode:!0}).then((function(a){a&&(e(function(e){return function(){var t=Object(L.a)(T.a.mark((function t(a,n){var r,l,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:\"USER_DELETE_REQUEST\"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:\"Bearer \".concat(null===l||void 0===l?void 0:l.token)}},t.next=6,A.a.delete(\"/api/v1/users/\".concat(e),c);case 6:a({type:\"USER_DELETE_SUCCESS\"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:\"USER_DELETE_FAIL\",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case\"end\":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(t)),H()(\"User has been deleted!\",{icon:\"success\"}))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h1\",null,\"Users\"),l?r.a.createElement(W,null):c?r.a.createElement(q,{variant:\"danger\"},c):r.a.createElement(fe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:\"table-sm\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"ID\"),r.a.createElement(\"th\",null,\"NAME\"),r.a.createElement(\"th\",null,\"EMAIL\"),r.a.createElement(\"th\",null,\"ADMIN\"),r.a.createElement(\"th\",null))),r.a.createElement(\"tbody\",null,s.map((function(e){return r.a.createElement(\"tr\",{key:e._id},r.a.createElement(\"td\",null,e._id),r.a.createElement(\"td\",null,e.name),r.a.createElement(\"td\",null,r.a.createElement(\"a\",{href:\"mailto:\".concat(e.email)},e.email)),r.a.createElement(\"td\",null,e.isAdmin?r.a.createElement(\"i\",{className:\"fas fa-check\",style:{color:\"green\"}}):r.a.createElement(\"i\",{className:\"fas fa-times\",style:{color:\"red\"}})),r.a.createElement(\"td\",null,r.a.createElement(_.LinkContainer,{to:\"/admin/user/\".concat(e._id,\"/edit\")},r.a.createElement(P.a,{variant:\"light\",className:\"btn-sm\"},r.a.createElement(\"i\",{className:\"fas fa-edit\"}))),r.a.createElement(P.a,{variant:\"danger\",className:\"btn-sm\",onClick:function(){return m(e._id)}},r.a.createElement(\"i\",{className:\"fas fa-trash\"}))))})))))},Ce=function(){var e=Object(y.k)(),t=Object(y.m)().id,a=Object(n.useState)(\"\"),l=Object(j.a)(a,2),c=l[0],s=l[1],u=Object(n.useState)(!1),i=Object(j.a)(u,2),m=i[0],d=i[1],E=Object(n.useState)(\"\"),p=Object(j.a)(E,2),f=p[0],g=p[1],v=Object(o.b)(),h=Object(o.c)((function(e){return e.userDetails})),b=h.loading,_=h.error,O=h.user,R=Object(o.c)((function(e){return e.userUpdate})),I=R.loading,C=R.error,U=R.success;Object(n.useEffect)((function(){U?(v({type:\"USER_UPDATE_RESET\"}),e.push(\"/admin/userlist\")):O.name&&O._id===t?(g(O.name),s(O.email),d(O.isAdmin)):v(D(t))}),[O,t,v,U,e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.Link,{to:\"/admin/userlist\",className:\"btn btn-light my-3\"},\"Go Back\"),r.a.createElement(de,null,r.a.createElement(\"h1\",null,\"Edit User\"),I&&r.a.createElement(W,null),C&&r.a.createElement(q,{variant:\"danger\"},C),b?r.a.createElement(W,null):_?r.a.createElement(q,{variant:\"danger\"},_):r.a.createElement(k.a,{onSubmit:function(e){e.preventDefault(),v(function(e,t){return function(){var a=Object(L.a)(T.a.mark((function a(n,r){var l,c,o,s,u;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:\"USER_UPDATE_REQUEST\"}),l=r(),c=l.userLogin.userInfo,o={headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(null===c||void 0===c?void 0:c.token)}},a.next=6,A.a.put(\"/api/v1/users/\".concat(e),t,o);case 6:s=a.sent,u=s.data,n({type:\"USER_UPDATE_SUCCESS\"}),n({type:\"USER_DETAILS_SUCCESS\",payload:u.data}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n({type:\"USER_UPDATE_FAIL\",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 15:case\"end\":return a.stop()}}),a,null,[[0,12]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,{name:f,email:c,isAdmin:m}))}},r.a.createElement(k.a.Group,{controlId:\"name\"},r.a.createElement(k.a.Label,null,\"Name\"),r.a.createElement(k.a.Control,{type:\"text\",placeholder:\"Enter name\",value:f,onChange:function(e){return g(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"email\"},r.a.createElement(k.a.Label,null,\"Email Address\"),r.a.createElement(k.a.Control,{type:\"email\",placeholder:\"Enter email\",value:c,onChange:function(e){return s(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"isadmin\"},r.a.createElement(k.a.Check,{type:\"checkbox\",label:\"Is Admin\",checked:m,onChange:function(e){return d(e.target.checked)}})),r.a.createElement(P.a,{type:\"submit\",variant:\"primary\"},\"Update\"))))},Te=function(){var e=Object(o.b)(),t=Object(y.k)(),a=Object(y.m)().pageNumber,l=void 0===a?1:a,c=Object(o.c)((function(e){return e.productList})),s=c.loading,u=c.error,i=c.products,m=c.page,d=c.pages,E=Object(o.c)((function(e){return e.productDelete})),p=E.loading,f=E.error,g=E.success,v=Object(o.c)((function(e){return e.productCreate})),h=v.loading,S=v.error,b=v.success,O=v.product,R=Object(o.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){e({type:\"PRODUCT_CREATE_RESET\"}),R.isAdmin||t.push(\"/login\"),b?t.push(\"/admin/product/\".concat(O._id,\"/edit\")):e(K(\"\",l))}),[e,t,R,g,b,O,l]);var I=function(t){H()({title:\"Are you sure?\",text:\"Once deleted, you will not be able to recover this product!\",icon:\"warning\",buttons:[!0,!0],dangerMode:!0}).then((function(a){a&&e(function(e){return function(){var t=Object(L.a)(T.a.mark((function t(a,n){var r,l,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:\"PRODUCT_DELETE_REQUEST\"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:\"Bearer \".concat(null===l||void 0===l?void 0:l.token)}},t.next=6,A.a.delete(\"/api/v1/products/\".concat(e),c);case 6:H()(\"Product has been deleted!\",{icon:\"success\"}),a({type:\"PRODUCT_DELETE_SUCCESS\"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:\"PRODUCT_DELETE_FAIL\",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case\"end\":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{className:\"align-items-center\"},r.a.createElement(F.a,null,r.a.createElement(\"h1\",null,\"Products\")),r.a.createElement(F.a,{className:\"text-right\"},r.a.createElement(P.a,{className:\"my-3\",onClick:function(){e(function(){var e=Object(L.a)(T.a.mark((function e(t,a){var n,r,l,c,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:\"PRODUCT_CREATE_REQUEST\"}),n=a(),r=n.userLogin.userInfo,l={headers:{Authorization:\"Bearer \".concat(null===r||void 0===r?void 0:r.token)}},e.next=6,A.a.post(\"/api/v1/products\",{},l);case 6:c=e.sent,o=c.data,t({type:\"PRODUCT_CREATE_SUCCESS\",payload:o.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:\"PRODUCT_CREATE_FAIL\",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case\"end\":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())}},r.a.createElement(\"i\",{className:\"fas fa-plus\"}),\" Create Product\"))),p&&r.a.createElement(W,null),f&&r.a.createElement(q,{variant:\"danger\"},f),h&&r.a.createElement(W,null),S&&r.a.createElement(q,{variant:\"danger\"},S),s?r.a.createElement(W,null):u?r.a.createElement(q,{variant:\"danger\"},u):r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:\"table-sm\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"ID\"),r.a.createElement(\"th\",null,\"NAME\"),r.a.createElement(\"th\",null,\"PRICE\"),r.a.createElement(\"th\",null,\"CATEGORY\"),r.a.createElement(\"th\",null,\"BRAND\"))),r.a.createElement(\"tbody\",null,i.map((function(e){return r.a.createElement(\"tr\",{key:e._id},r.a.createElement(\"td\",null,e._id),r.a.createElement(\"td\",null,e.name),r.a.createElement(\"td\",null,\"$\",e.price),r.a.createElement(\"td\",null,e.category),r.a.createElement(\"td\",null,e.brand),r.a.createElement(\"td\",null,r.a.createElement(_.LinkContainer,{to:\"/admin/product/\".concat(e._id,\"/edit\")},r.a.createElement(P.a,{variant:\"light\",className:\"btn-sm\"},r.a.createElement(\"i\",{className:\"fas fa-edit\"}))),r.a.createElement(P.a,{variant:\"danger\",className:\"btn-sm\",onClick:function(){return I(e._id)}},r.a.createElement(\"i\",{className:\"fas fa-trash\"}))))})))),r.a.createElement(ee,{pages:d,page:m,isAdmin:!0})))},Le=function(){var e=Object(y.k)(),t=Object(y.m)().id,a=Object(n.useState)(\"\"),l=Object(j.a)(a,2),c=l[0],s=l[1],u=Object(n.useState)(0),i=Object(j.a)(u,2),m=i[0],d=i[1],E=Object(n.useState)(\"\"),p=Object(j.a)(E,2),f=p[0],g=p[1],v=Object(n.useState)(\"\"),h=Object(j.a)(v,2),b=h[0],_=h[1],O=Object(n.useState)(\"\"),R=Object(j.a)(O,2),I=R[0],C=R[1],U=Object(n.useState)(0),D=Object(j.a)(U,2),w=D[0],x=D[1],N=Object(n.useState)(\"\"),F=Object(j.a)(N,2),G=F[0],M=F[1],Q=Object(n.useState)(!1),B=Object(j.a)(Q,2),V=B[0],Y=B[1],$=Object(o.b)(),z=Object(o.c)((function(e){return e.productDetails})),J=z.loading,H=z.error,K=z.product,Z=Object(o.c)((function(e){return e.productUpdate})),ee=Z.loading,te=Z.error,ae=Z.success,ne=Object(o.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){ae?($({type:\"PRODUCT_UPDATE_RESET\"}),e.push(\"/admin/productlist\")):K.name&&K._id===t?(s(K.name),d(K.price),g(K.image),_(K.brand),C(K.category),x(K.countInStock),M(K.description)):$(X(t))}),[K,t,$,e,ae]);var re=function(){var e=Object(L.a)(T.a.mark((function e(t){var a,n,r,l,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append(\"file\",a),Y(!0),e.prev=4,r={headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(null===ne||void 0===ne?void 0:ne.token)}},e.next=8,A.a.post(\"/upload\",n,r);case 8:l=e.sent,c=l.data,g(c),Y(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),Y(!1);case 17:case\"end\":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.Link,{to:\"/admin/productlist\",className:\"btn btn-light my-3\"},\"Go Back\"),r.a.createElement(de,null,r.a.createElement(\"h1\",null,\"Edit Product\"),ee&&r.a.createElement(W,null),te&&r.a.createElement(q,{variant:\"danger\"},te),J?r.a.createElement(W,null):H?r.a.createElement(q,{variant:\"danger\"},H):r.a.createElement(k.a,{onSubmit:function(e){e.preventDefault(),$(function(e,t){return function(){var a=Object(L.a)(T.a.mark((function a(n,r){var l,c,o,s,u;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:\"PRODUCT_UPDATE_REQUEST\"}),l=r(),c=l.userLogin.userInfo,o={headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(null===c||void 0===c?void 0:c.token)}},a.next=6,A.a.put(\"/api/v1/products/\".concat(e),t,o);case 6:s=a.sent,u=s.data,n({type:\"PRODUCT_UPDATE_SUCCESS\",payload:u.data}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:\"PRODUCT_UPDATE_FAIL\",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case\"end\":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,{name:c,price:m,image:f,brand:b,category:I,countInStock:w,description:G}))}},r.a.createElement(k.a.Group,{controlId:\"name\"},r.a.createElement(k.a.Label,null,\"Name\"),r.a.createElement(k.a.Control,{type:\"text\",placeholder:\"Enter name\",value:c,onChange:function(e){return s(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"price\"},r.a.createElement(k.a.Label,null,\"Price\"),r.a.createElement(k.a.Control,{type:\"number\",placeholder:\"Enter price\",value:m,onChange:function(e){return d(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"image\"},r.a.createElement(k.a.Label,null,\"Image\"),r.a.createElement(k.a.Control,{type:\"text\",placeholder:\"Enter Image url\",value:f,onChange:function(e){return e.target.value?g(e.target.value):g(\"/images/sample.png\")}}),r.a.createElement(k.a.File,{id:\"image-file\",label:\"Choose File\",custom:!0,onChange:re}),V&&r.a.createElement(W,null)),r.a.createElement(k.a.Group,{controlId:\"brand\"},r.a.createElement(k.a.Label,null,\"Brand\"),r.a.createElement(k.a.Control,{type:\"text\",placeholder:\"Enter brand\",value:b,onChange:function(e){return _(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"countInStock\"},r.a.createElement(k.a.Label,null,\"Count In Stock\"),r.a.createElement(k.a.Control,{type:\"number\",placeholder:\"Enter countInStock\",value:w,onChange:function(e){return x(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"category\"},r.a.createElement(k.a.Label,null,\"Category\"),r.a.createElement(k.a.Control,{type:\"text\",placeholder:\"Enter Category\",value:I,onChange:function(e){return C(e.target.value)}})),r.a.createElement(k.a.Group,{controlId:\"description\"},r.a.createElement(k.a.Label,null,\"Description\"),r.a.createElement(k.a.Control,{type:\"text\",placeholder:\"Enter description\",value:G,onChange:function(e){return M(e.target.value)}})),r.a.createElement(P.a,{type:\"submit\",variant:\"primary\"},\"Update\"))))},Ue=function(){var e=Object(o.b)(),t=Object(y.k)(),a=Object(o.c)((function(e){return e.orderList})),l=a.loading,c=a.error,s=a.orders,u=Object(o.c)((function(e){return e.userLogin})).userInfo;return Object(n.useEffect)((function(){u&&u.isAdmin?e(function(){var e=Object(L.a)(T.a.mark((function e(t,a){var n,r,l,c,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:\"ORDER_LIST_REQUEST\"}),n=a(),r=n.userLogin.userInfo,l={headers:{Authorization:\"Bearer \".concat(null===r||void 0===r?void 0:r.token)}},e.next=6,A.a.get(\"/api/v1/orders\",l);case 6:c=e.sent,o=c.data,t({type:\"ORDER_LIST_SUCCESS\",payload:o.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:\"ORDER_LIST_FAIL\",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case\"end\":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push(\"/login\")}),[e,t,u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h1\",null,\"Orders\"),l?r.a.createElement(W,null):c?r.a.createElement(q,{variant:\"danger\"},c):r.a.createElement(fe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:\"table-sm\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"ID\"),r.a.createElement(\"th\",null,\"USER\"),r.a.createElement(\"th\",null,\"DATE\"),r.a.createElement(\"th\",null,\"TOTAL\"),r.a.createElement(\"th\",null,\"PAID\"),r.a.createElement(\"th\",null,\"DELIVERED\"))),r.a.createElement(\"tbody\",null,s.map((function(e){return r.a.createElement(\"tr\",{key:e._id},r.a.createElement(\"td\",null,e._id),r.a.createElement(\"td\",null,e.user&&e.user.name),r.a.createElement(\"td\",null,e.createdAt.substring(0,10)),r.a.createElement(\"td\",null,\"$ \",e.totalPrice),r.a.createElement(\"td\",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement(\"i\",{className:\"fas fa-times\",style:{color:\"red\"}})),r.a.createElement(\"td\",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement(\"i\",{className:\"fas fa-times\",style:{color:\"red\"}})),r.a.createElement(\"td\",null,r.a.createElement(_.LinkContainer,{to:\"/order/\".concat(e._id)},r.a.createElement(P.a,{variant:\"light\",className:\"btn-sm\"},\"Details\"))))})))))},Ae=function(){return r.a.createElement(S.BrowserRouter,null,r.a.createElement(x,null),r.a.createElement(\"main\",{className:\"py-3\"},r.a.createElement(b.a,null,r.a.createElement(y.d,{path:\"/order/:id\",component:Re}),r.a.createElement(y.d,{path:\"/shipping\",component:Se}),r.a.createElement(y.d,{path:\"/payment\",component:ye}),r.a.createElement(y.d,{path:\"/placeorder\",component:_e}),r.a.createElement(y.d,{path:\"/login\",component:Ee}),r.a.createElement(y.d,{path:\"/register\",component:pe}),r.a.createElement(y.d,{path:\"/profile\",component:ve}),r.a.createElement(y.d,{path:\"/product/:id\",component:ue}),r.a.createElement(y.d,{path:\"/cart/:id?\",component:me}),r.a.createElement(y.d,{path:\"/admin/userlist\",component:Ie}),r.a.createElement(y.d,{path:\"/admin/user/:id/edit\",component:Ce}),r.a.createElement(y.d,{path:\"/admin/productlist\",component:Te,exact:!0}),r.a.createElement(y.d,{path:\"/admin/productlist/:pageNumber\",component:Te,exact:!0}),r.a.createElement(y.d,{path:\"/admin/product/:id/edit\",component:Le}),r.a.createElement(y.d,{path:\"/admin/orderlist\",component:Ue}),r.a.createElement(y.d,{path:\"/search/:keyword\",component:oe,exact:!0}),r.a.createElement(y.d,{path:\"/page/:pageNumber\",component:oe,exact:!0}),r.a.createElement(y.d,{path:\"/search/:keyword/page/:pageNumber\",component:oe,exact:!0}),r.a.createElement(y.d,{path:\"/\",component:oe,exact:!0}))),r.a.createElement(G,null))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,{store:h},r.a.createElement(Ae,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,t,a){e.exports=a(117)},93:function(e,t,a){},94:function(e,t,a){}},[[84,1,2]]]);","extractedComments":[]}